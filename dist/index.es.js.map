{"version":3,"file":"index.es.js","sources":["../src/Screen/Math.jsx","../src/Screen/Screen.jsx","../src/Keyboard/appContext.js","../src/Value/Strategies/ValueContext.js","../src/Value/Strategies/contextFactory.js","../src/Value/ValueList.js","../src/keyConsts.js","../src/Value/Value.js","../src/Value/Fraction.js","../src/Value/Exponent.js","../src/Value/Root.js","../src/Value/parser.js","../src/Keyboard/Component.jsx","../src/Key/Component.jsx","../src/Key/Key.jsx","../src/Keyboard/MapKeys.js","../src/Value/Dot.js","../src/Value/Operator.js","../src/Keyboard/MapEvents.js","../src/Keyboard/keyboards.js","../src/Value/Strategies/Commands/BaseCommand.js","../src/Value/Strategies/Commands/Value/AddValue.js","../src/Value/Strategies/Commands/Value/ChangeValue.js","../src/Value/Strategies/ValueStrategy.js","../src/Value/Strategies/Commands/Fraction/ChangeValue.js","../src/Value/Strategies/FractionStrategy.js","../src/Value/Strategies/ExponentStrategy.js","../src/Value/Strategies/Commands/Root/ChangeValue.js","../src/Value/Strategies/RootStrategy.js","../src/Keyboard/contextConfig.js","../src/Keyboard/withKeyboard.jsx","../src/Keyboard/Keyboard.jsx"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport MathJax from \"react-mathjax\";\n\nexport default class Math extends React.Component {\n    static propTypes = {\n        value: PropTypes.string,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            load: true,\n            currentValue: \"\",\n        };\n\n        this.handleOnRender = this.handleOnRender.bind(this);\n        this.timeCursor = null;\n    }\n\n    handleOnRender() {\n        let { value } = this.props;\n\n        this.setState({\n            load: false,\n            currentValue: value,\n        });\n    }\n\n    componentWillUpdate(nextProps) {\n        if (nextProps.value != this.props.value) {\n            this.setState({ load: true });\n        }\n    }\n\n    componentDidMount() {\n        this.setCursor();\n    }\n\n    componentDidUpdate() {\n        this.setCursor();\n    }\n\n    setCursor() {\n        if (this.timeCursor) {\n            clearInterval(this.timeCursor);\n        }\n\n        let mathList = document.getElementsByClassName(\"math\");\n\n        for (let el of mathList) {\n            let mjxEls = el.getElementsByClassName(\"mjx-char\");\n\n            for (let mjx of mjxEls) {\n                if (mjx.innerHTML == \"âˆ£\") {\n                    mjx.style.fontSize = \"1em\";\n                    this.timeCursor = setInterval(() => {\n                        if (mjx.style.visibility == \"hidden\") {\n                            mjx.style.visibility = \"visible\";\n                        } else {\n                            mjx.style.visibility = \"hidden\";\n                        }\n                    }, 500);\n                }\n\n                mjx.parentElement.style.marginLeft = \"0\";\n            }\n        }\n    }\n\n    getStyle(load) {\n        return { display: load ? \"none\" : \"block\" };\n    }\n\n    render() {\n        let { value } = this.props;\n        let { currentValue, load } = this.state;\n\n        return (\n            <React.Fragment>\n                <div style={this.getStyle(load)} className=\"math\">\n                    <MathJax.Node formula={value} onRender={this.handleOnRender} />\n                </div>\n\n                <div style={this.getStyle(!load)} className=\"math\">\n                    <MathJax.Node formula={currentValue} />\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport orange from \"@material-ui/core/colors/orange\";\nimport PropTypes from \"prop-types\";\nimport Math from \"./Math\";\nimport { Backspace } from \"@material-ui/icons\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = () => ({\n    root: {\n        height: \"150px\",\n        padding: \"1em 2em\",\n    },\n    icon: {\n        float: \"right\",\n        cursor: \"pointer\",\n    },\n    screen: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        zIndex: \"1\",\n        marginBottom: \"10px\",\n    },\n    send: {\n        position: \"absolute\",\n        bottom: \"-10px\",\n        zIndex: \"2\",\n        color: orange[800],\n        background: \"white\",\n        padding: \"0 10px\",\n        cursor: \"pointer\",\n    },\n    sendIcon: {\n        marginBottom: \"-5px\"\n    },\n    status: {\n        zIndex: \"2\",\n        top: \"-12px\",\n        left: \"20px\",\n        padding: \"0 10px\",\n        margin: 0,\n        position: \"absolute\",\n        background: \"white\",\n    },\n    actionBtn: {\n        cursor: \"pointer\",\n    },\n});\n\nclass Screen extends React.Component {\n    static propTypes = {\n        classes: PropTypes.object.isRequired,\n        screenValue: PropTypes.object,\n        onKeyUp: PropTypes.func,\n        onRemove: PropTypes.func,\n        onClear: PropTypes.func,\n        correct: PropTypes.bool,\n        onSubmit: PropTypes.func,\n    };\n\n    renderValue() {\n        let { screenValue } = this.props;\n\n        if (screenValue) {\n            return (<Math value={screenValue.last().getTeX()} />);\n        }\n\n        return (<span>Degite um valor</span>);\n    }\n\n    getCorrectText() {\n        let { correct, classes } = this.props;\n\n        if (typeof correct === \"undefined\") {\n            return \"\";\n        }\n\n        if (correct) {\n            return (\n                <h4\n                    className={classes.status}\n                    style={{ color: \"#228416\" }}\n                >\n                    Correto\n                </h4>\n            );\n        }\n\n        return (\n            <h4\n                className={classes.status}\n                style={{ color: \"#ec211d\" }}\n            >\n                Incorreto\n            </h4>\n        );\n    }\n\n    getCorrectBorder() {\n        let { correct } = this.props;\n\n        if (typeof correct === \"undefined\") {\n            return {};\n        }\n\n        if (correct) {\n            return {\n                border: \"2px solid\",\n                borderColor: \"#228416\"\n            };\n        }\n\n        return {\n            border: \"2px solid\",\n            borderColor: \"#ec211d\"\n        };\n    }\n\n    getResponse (screenValue) {\n        return {\n            value: screenValue.last().getValue(),\n            value_tex: screenValue.last()\n                .getTeX()\n                .replace(\"\\\\mid\", \"\"),\n        };\n    }\n\n    render() {\n        let {\n            classes,\n            onKeyUp,\n            onClear,\n            onRemove,\n            onSubmit,\n            screenValue,\n            correct,\n        } = this.props;\n\n        let submit = \"\";\n\n        if (onSubmit && typeof correct === \"undefined\") {\n            submit = (\n                <div\n                    className={classes.send}\n                    onClick={() => onSubmit(this.getResponse(screenValue))}\n                >\n                    ENVIAR <SendIcon fontSize=\"small\" className={classes.sendIcon}/>\n                </div>\n            );\n        }\n\n        return (\n            <Grid container onKeyUp={onKeyUp} className={classes.root} spacing={0}>\n                <Grid item xs={6}>\n                    <span\n                        id=\"clear\"\n                        onClick={onClear}\n                        className={classes.actionBtn}\n                    >\n                        LIMPAR\n                    </span>\n                </Grid>\n                <Grid item xs={6}>\n                    <Backspace\n                        className={classes.icon}\n                        fontSize=\"small\"\n                        onClick={onRemove}\n                    />\n                </Grid>\n                <Grid\n                    item\n                    xs={12}\n                    className={classes.screen}\n                    style={this.getCorrectBorder()}\n                >\n                    {this.getCorrectText()}\n                    {this.renderValue()}\n                    {submit}\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nexport default withStyles(styles)(Screen);\n","export let appConfig = {};\n\nexport function init(config) {\n    appConfig = config;\n    Object.freeze(appConfig);\n}\n","export default class ValueContext {\n\n    /**\n     *\n     * @param {Object} strategy\n     */\n    constructor (strategy) {\n        this.strategy = strategy;\n    }\n\n    /**\n     *\n     * @param {Object} value\n     *\n     * @returns {Object}\n     */\n    addValue (value) {\n        return this.strategy.addValue(value);\n    }\n\n    /**\n     *\n     * @returns {Obejct}\n     */\n    remove() {\n        return this.strategy.remove();\n    }\n\n    /**\n     *\n     * @returns {any}\n     */\n    changeValue (direction) {\n        return this.strategy.changeValue(direction);\n    }\n}\n","import { appConfig } from \"../../Keyboard/appContext\";\nimport ValueContext from \"./ValueContext\";\n\nexport default (value) => {\n    let context = appConfig[value.getContext()];\n    let strategy = new context(value);\n\n    return new ValueContext(strategy);\n};\n","import contextFactory from \"./Strategies/contextFactory\";\n\nexport const NEXT_VALUE = \"nextValue\";\nexport const PREV_VALUE = \"prevValue\";\n\nexport default class ValueList {\n    /**\n     *\n     * @param {Object} value\n     */\n    constructor(value) {\n        this.value = value;\n        this.boot();\n    }\n\n    /**\n     * Boot the instance\n     */\n    boot() {\n        if (!this.value.cursor) {\n            this.value.cursor = true;\n        }\n    }\n\n    /**\n     * set the current value to next value\n     */\n    nextValue() {\n        let value = this.getContext().changeValue(NEXT_VALUE);\n\n        if (value === null) return value;\n        this.value = value;\n\n        return true;\n    }\n\n    /**\n     * set the current value to prev value\n     */\n    prevValue() {\n        let value = this.getContext().changeValue(PREV_VALUE);\n\n        if (value === null) return value;\n        this.value = value;\n\n        return true;\n    }\n\n    /**\n     *  add value to list\n     *\n     * @param {Object} value\n     */\n    addValue(value) {\n        this.value = this.getContext().addValue(value);\n    }\n\n    /**\n     * remove the current value\n     */\n    remove() {\n        this.value = this.getContext().remove();\n    }\n\n    /**\n     * unfocus value list\n     */\n    unfocus() {\n        if (!this.value.cursor) return;\n\n        this.value.toggleCursor();\n    }\n\n    /**\n     * focus value list\n     */\n    focus() {\n        if (this.value.cursor) return;\n\n        this.value.toggleCursor();\n    }\n\n    /**\n     * Focus last value\n     */\n    focusLast() {\n        this.unfocus();\n        this.value = this.last();\n        this.focus();\n    }\n\n    /**\n     * Focus first value\n     */\n    focusFirst() {\n        this.unfocus();\n        this.value = this.first();\n        this.focus();\n    }\n\n    /**\n     *  returns the last Value from list\n     *\n     * @returns {Object}\n     */\n    last() {\n        let value = this.value;\n        let nextValue = null;\n\n        while ((nextValue = value.nextValue)) {\n            value = nextValue;\n        }\n\n        return value;\n    }\n\n    /**\n     * returns the first Value from list\n     *\n     * @returns {Object}\n     */\n    first() {\n        let value = this.value;\n        let prevValue = null;\n\n        while ((prevValue = value.prevValue)) {\n            value = prevValue;\n        }\n\n        return value;\n    }\n\n    /**\n     * @returns {Object}\n     */\n    getContext() {\n        return contextFactory(this.value);\n    }\n}\n","export const LEFT = 37;\nexport const RIGHT = 39;\n","export default class Value {\n    constructor(operator, prevValue) {\n        this.nextValue = null;\n        this.prevValue = prevValue;\n        this.operator = operator;\n        this.cursor = false;\n    }\n\n    toggleCursor() {\n        this.cursor = !this.cursor;\n    }\n\n    setNextValue(nextValue) {\n        if (this.nextValue) {\n            nextValue.nextValue = this.nextValue;\n            nextValue.nextValue.setPrevValue(nextValue);\n        }\n\n        this.nextValue = nextValue;\n    }\n\n    getContext() {\n        return \"value\";\n    }\n\n    setPrevValue(prevValue) {\n        this.prevValue = prevValue;\n    }\n\n    value() {\n        return this.operator;\n    }\n\n    valueTeX() {\n        if (this.cursor) {\n            return this.value() + \"\\\\mid\";\n        }\n\n        return this.value();\n    }\n\n    getValue() {\n        if (!this.prevValue) {\n            return this.value();\n        }\n\n        return this.prevValue.getValue() + this.value();\n    }\n\n    getTeX() {\n        if (!this.prevValue) {\n            return this.valueTeX();\n        }\n\n        return this.prevValue.getTeX() + this.valueTeX();\n    }\n}\n","import Value from \"./Value\";\nimport ValueList from \"./ValueList\";\n\nexport const DIVIDER = \"DIVIDER\";\nexport const DIVIDEND = \"DIVIDEND\";\n\nexport default class Fraction extends Value {\n    /**\n     *\n     * @param {Object} prevValue\n     */\n    constructor(prevValue) {\n        super(\"/\", prevValue);\n        this.divider = null;\n\n        let value = new Value(\"\");\n        value.toggleCursor();\n\n        this.dividend = new ValueList(value);\n        this.currentCursor = DIVIDEND;\n    }\n\n    toggleCursor() {\n        super.toggleCursor();\n\n        if (this.cursor) {\n            this.setCursor(DIVIDEND);\n        } else {\n            this.unfocus();\n        }\n    }\n\n    /**\n     *  Add value in divider\n     *\n     * @param {Object} divider\n     */\n    addDivider(divider) {\n        if (this.currentCursor === DIVIDEND) {\n            this.unfocus();\n            this.currentCursor = DIVIDER;\n        }\n\n        if (!this.divider) {\n            return this.divider = new ValueList(divider);\n        }\n\n        this.divider.addValue(divider);\n    }\n\n    /**\n     *  Add value in dividend\n     *\n     * @param {Object} dividend\n     */\n    addDividend(dividend) {\n        if (this.currentCursor === DIVIDER) {\n            this.unfocus();\n            this.currentCursor = DIVIDEND;\n        }\n\n        this.dividend.addValue(dividend);\n    }\n\n    /**\n     *  Get context key\n     *\n     * @returns {String}\n     */\n    getContext() {\n        return \"fraction\";\n    }\n\n    /**\n     * unfocus fraction\n     *\n     */\n    unfocus() {\n        if (this.dividend) {\n            this.dividend.unfocus();\n        }\n\n        if (this.divider) {\n            this.divider.unfocus();\n        }\n\n        this.currentCursor = null;\n    }\n\n    /**\n     * Set cursor in operator\n     *\n     * @param {String} operator\n     */\n    setCursor(operator) {\n        if (operator === DIVIDER) {\n            if (this.divider) {\n                this.divider.focusFirst();\n            } else {\n                this.divider = new ValueList(new Value(\"\"));\n            }\n\n            this.currentCursor = DIVIDER;\n        } else {\n            if (this.dividend) {\n                this.dividend.focusLast();\n            } else {\n                this.dividend = new ValueList(new Value(\"\"));\n            }\n\n            this.currentCursor = DIVIDEND;\n        }\n    }\n\n    /**\n     * get the current value\n     *\n     * @returns {Object}\n     */\n    getCurrentValue() {\n        if (this.currentCursor == DIVIDER) {\n            return this.divider.value;\n        }\n\n        return this.dividend.value;\n    }\n\n    /**\n     *  Change value direction\n     *\n     * @param {String} direction\n     * @returns {Object}\n     */\n    changeValue(direction) {\n        if (this.currentCursor == DIVIDER) {\n            return this.divider[direction]();\n        }\n\n        return this.dividend[direction]();\n    }\n\n    /**\n     *\n     *\n     */\n    remove() {\n        if (this.currentCursor == DIVIDER) {\n            return this.divider.remove();\n        }\n\n        return this.dividend.remove();\n    }\n\n    /**\n     * set prentheses\n     *\n     * @param {String} value\n     *\n     * @returns {String}\n     */\n    setParentheses(value) {\n        return `[${value}]`;\n    }\n\n    /**\n     * get value\n     *\n     * @returns {String}\n     */\n    value() {\n        let dividend = this.setParentheses(this.getDividendValue());\n        let divider = this.setParentheses(this.getDividerValue());\n\n        return `${dividend}/${divider}`;\n    }\n\n    /**\n     * get TEX value\n     *\n     * @returns {String}\n     */\n    valueTeX() {\n        return `\\\\frac{${this.getDividendTeX()}}{${this.getDividerTeX()}}`;\n    }\n\n    /**\n     * get divider TEX\n     *\n     * @returns {String}\n     */\n    getDividerTeX() {\n        return this.divider ?\n            this.divider.last().getTeX() : \"\";\n    }\n\n    /**\n     * get dividend TEX\n     *\n     * @returns {String}\n     */\n    getDividendTeX() {\n        return this.dividend ?\n            this.dividend.last().getTeX() : \"\";\n    }\n\n    /**\n     * get divider Value\n     *\n     * @returns {String}\n     */\n    getDividerValue() {\n        return this.divider ?\n            this.divider.last().getValue() : \"\";\n    }\n\n    /**\n     * get dividend Value\n     *\n     * @returns {String}\n     */\n    getDividendValue() {\n        return this.dividend ?\n            this.dividend.last().getValue() : \"\";\n    }\n}\n","import Value from \"./Value\";\nimport ValueList from \"./ValueList\";\n\nexport default class Exponent extends Value {\n    /**\n     *\n     * @param {Object} prevValue\n     */\n    constructor(prevValue) {\n        super(\"^\", prevValue);\n\n        let value = new Value(\"\");\n        value.toggleCursor();\n\n        this.valueList = new ValueList(value);\n    }\n\n    toggleCursor() {\n        super.toggleCursor();\n\n        if (this.cursor) {\n            this.valueList.focusLast();\n        } else {\n            this.unfocus();\n        }\n    }\n\n    /**\n     *\n     * @param {Object} value\n     */\n    addValue(value) {\n        this.valueList.addValue(value);\n    }\n\n    /**\n     *\n     */\n    remove() {\n        this.valueList.remove();\n    }\n\n    /**\n     * unfocus potentiation\n     *\n     */\n    unfocus() {\n        this.valueList.unfocus();\n    }\n\n    /**\n     * Get value\n     *\n     * @returns {String}\n     */\n    value() {\n        return `^[${this.valueList.last().getValue()}]`;\n    }\n\n    /**\n     * Get TEX value\n     *\n     * @returns {String}\n     */\n    valueTeX() {\n        return `^{${this.valueList.last().getTeX()}}`;\n    }\n\n    /**\n     *  Get context key\n     *\n     * @returns {String}\n     */\n    getContext() {\n        return \"exponent\";\n    }\n}\n","import Value from \"./Value\";\nimport ValueList from \"./ValueList\";\n\nexport const RADICAND = \"RADICAND\";\nexport const INDEX = \"INDEX\";\n\nexport default class Root extends Value {\n\n    /**\n     *\n     * @param {Object} prevValue\n     */\n    constructor(prevValue) {\n        super(\"sqrt\", prevValue);\n        this.index = null;\n\n        let value = new Value(\"\");\n        value.toggleCursor();\n\n        this.radicand = new ValueList(value);\n        this.currentCursor = RADICAND;\n    }\n\n    addRadicand(value) {\n        if (!this.isRadicand()) {\n            this.unfocus();\n            this.focus(RADICAND);\n        }\n\n        if (!this.radicand) {\n            this.radicand = new ValueList(value);\n            return;\n        }\n\n        this.radicand.addValue(value);\n    }\n\n    addIndex(value) {\n        if (!this.isIndex()) {\n            this.unfocus();\n            this.focus(INDEX);\n        }\n\n        if (!this.index) {\n            this.index = new ValueList(value);\n            return;\n        }\n\n        this.index.addValue(value);\n    }\n\n    focus(operator) {\n        this.cursor = true;\n\n        if (operator === RADICAND) {\n            this.currentCursor = RADICAND;\n            if (!this.radicand) return;\n            this.radicand.focusLast();\n            return;\n        }\n\n        this.currentCursor = INDEX;\n        if (!this.index) return;\n        this.index.focusLast();\n    }\n\n    toggleCursor() {\n        super.toggleCursor();\n\n        if (this.cursor) {\n            this.focus(RADICAND);\n        } else {\n            this.unfocus();\n        }\n    }\n\n    remove() {\n        if (this.isIndex()) {\n            return this.index.remove();\n        }\n\n        this.radicand.remove();\n    }\n\n    /**\n     * Get value\n     *\n     * @returns {String}\n     */\n    value() {\n        if (this.index)\n            return `sqrt(${this.radicand.last().getValue()}, ${this.index.last().getValue()})`;\n\n        return `sqrt(${this.radicand.last().getValue()})`;\n    }\n\n    /**\n     * Get TEX value\n     *\n     * @returns {String}\n     */\n    valueTeX() {\n        if (this.index)\n            return `\\\\sqrt[${this.index.last().getTeX()}]{${this.radicand.last().getTeX()}}`;\n\n        return `\\\\sqrt{${this.radicand.last().getTeX()}}`;\n    }\n\n    /**\n     * unfocus\n     *\n     */\n    unfocus() {\n        if (this.radicand) this.radicand.unfocus();\n        if (this.index) this.index.unfocus();\n\n        this.currentCursor = null;\n        this.cursor = false;\n    }\n\n    /**\n     * get the current value\n     *\n     * @returns {Object}\n     */\n    getCurrentValue() {\n        let valueList = this.index;\n\n        if (this.isRadicand()) {\n            valueList = this.radicand;\n        }\n\n        if (!valueList) return null;\n\n        return valueList.value;\n    }\n\n    /**\n     *  Change value direction\n     *\n     * @param {String} direction\n     * @returns {Object}\n     */\n    changeValue(direction) {\n        if (this.isRadicand()) {\n            return this.radicand[direction]();\n        }\n\n        return this.index[direction]();\n    }\n\n    toNextValue() {\n        if (this.isRadicand()) {\n            this.radicand.nextValue();\n        } else {\n            this.index.nextValue();\n        }\n    }\n\n    toPrevValue() {\n        if (this.isRadicand()) {\n            this.radicand.prevValue();\n        } else {\n            this.index.prevValue();\n        }\n    }\n\n    isRadicand() {\n        return this.currentCursor === RADICAND;\n    }\n\n    isIndex() {\n        return this.currentCursor === INDEX;\n    }\n\n    /**\n     *  Get context key\n     *\n     * @returns {String}\n     */\n    getContext() {\n        return \"root\";\n    }\n}\n","import ValueList from \"./ValueList\";\nimport Fraction from \"./Fraction\";\nimport Exponent from \"./Exponent\";\nimport Root from \"./Root\";\nimport Value from \"./Value\";\n\nconst isSqrt = (string, i) => string.charAt(i + 1) === \"q\" &&\n    string.charAt(i + 2) === \"r\" &&\n    string.charAt(i + 3) === \"t\";\n\n\nexport const parser = (string, mapEvents) => {\n    let valueList = new ValueList(new Value(\"\"));\n\n    for (let i = 0; i < string.length; i++) {\n        let char = string.charAt(i);\n\n        switch (char) {\n        case \" \":\n            break;\n        case \"/\":\n            i++;\n            break;\n        case \")\":\n        case \",\":\n        case \"]\":\n            valueList.nextValue();\n            break;\n        case \"[\":\n            valueList.addValue(new Fraction());\n            break;\n        case \"^\":\n            valueList.addValue(new Exponent());\n            i++;\n            break;\n        case \"s\":\n            if (isSqrt(string, i)) {\n                valueList.addValue(new Root());\n                i += 4;\n                break;\n            }\n\n            valueList.addValue(mapEvents.get(char)());\n            break;\n        case \".\":\n            char = \",\";\n            valueList.addValue(mapEvents.get(char)());\n            break;\n        default:\n            valueList.addValue(mapEvents.get(char)());\n            break;\n        }\n    }\n\n    return valueList;\n};\n","import React, { Component as ReactComponet } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport green from \"@material-ui/core/colors/green\";\nimport red from \"@material-ui/core/colors/red\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Divider from \"@material-ui/core/Divider\";\nimport MathJax from \"react-mathjax\";\nimport Screen from \"../Screen\";\nimport ValueList from \"../Value/ValueList\";\nimport { init } from \"./appContext\";\n\nimport { LEFT, RIGHT } from \"../keyConsts\";\nimport Value from \"../Value/Value\";\nimport { parser } from \"../Value/parser\";\n\nconst styles = () => ({\n    root: {\n        position: \"relative\",\n        zIndex: \"1\",\n    },\n    item: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        marginTop: \"1px\",\n    },\n    responseBtn: {\n        position: \"absolute\",\n        backgroundColor: red[600],\n        left: \"10px\",\n        marginTop: \"-20px\",\n        zIndex: \"2\",\n\n        \"&:hover\": {\n            backgroundColor: red[900],\n        },\n    },\n    table: {\n        marginTop: \"25px\",\n    },\n    container: {\n        backgroundColor: green[\"A200\"],\n        zIndex: \"1\",\n    },\n});\n\nconst mathJaxConfig = {\n    tex2jax: {\n        inlineMath: []\n    },\n    showMathMenu: false,\n    showMathMenuMSIE: false,\n    \"fast-preview\": {\n        disabled: true\n    },\n    showProcessingMessages: false,\n    styles: {\n        \"#MathJax_Message\": {display: \"none\"},\n        \"#MathJax_MSIE_Frame\": {display: \"none\"}\n    }\n};\n\nclass Component extends ReactComponet {\n    static propTypes = {\n        keyboard: PropTypes.array.isRequired,\n        mapKeys: PropTypes.object.isRequired,\n        mapEvents: PropTypes.object.isRequired,\n        contextConfig: PropTypes.object.isRequired,\n        classes: PropTypes.object.isRequired,\n        responses: PropTypes.array,\n        current: PropTypes.object,\n        onSubmit: PropTypes.func,\n        onChange: PropTypes.func,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            valueList: null,\n            showKeyboard: false,\n            correct: undefined,\n        };\n\n        this.clickBuntton = this.clickBuntton.bind(this);\n        this.handleKeyUp = this.handleKeyUp.bind(this);\n        this.handleKeyClear = this.handleKeyClear.bind(this);\n        this.handleKeyRemove = this.handleKeyRemove.bind(this);\n        this.handleToggleResponses = this.handleToggleResponses.bind(this);\n\n        this.props.mapKeys.setCallback(this.clickBuntton);\n        this.props.mapKeys.setMap();\n        this.props.mapEvents.setMap();\n        init(this.props.contextConfig);\n    }\n\n    componentWillMount() {\n        let { current, mapEvents } = this.props;\n\n        if (current) {\n            let valueList = parser(current.value, mapEvents);\n            valueList.unfocus();\n\n            this.setState({\n                valueList,\n                correct: current.correct\n            });\n        }\n    }\n\n    clickBuntton(btn) {\n        let { mapEvents } = this.props;\n        let { valueList } = this.state;\n        let nextValue = mapEvents.get(btn)();\n\n        if (!valueList) {\n            valueList = new ValueList(nextValue);\n        } else {\n            valueList.addValue(nextValue);\n        }\n\n        this.handleOnChange(valueList);\n\n        this.setState({\n            valueList,\n            correct: undefined,\n        });\n    }\n\n    handleKeyUp({ keyCode }) {\n        let { valueList } = this.state;\n\n        if (keyCode == LEFT) {\n            valueList.prevValue();\n        } else if (keyCode == RIGHT) {\n            valueList.nextValue();\n        } else {\n            return;\n        }\n\n        this.setState({\n            valueList,\n            correct: undefined,\n        });\n    }\n\n    handleKeyClear() {\n        let { valueList } = this.state;\n\n        if (valueList) {\n            valueList = new ValueList(new Value(\"\"));\n\n            this.handleOnChange(valueList);\n\n            this.setState({\n                valueList,\n                correct: undefined,\n            });\n        }\n    }\n\n    handleKeyRemove() {\n        let { valueList } = this.state;\n\n        if (valueList) {\n            valueList.remove();\n\n            this.handleOnChange(valueList);\n\n            this.setState({\n                valueList,\n                correct: undefined,\n            });\n        }\n    }\n\n    handleOnChange (valueList) {\n        let { onChange } = this.props;\n\n        if (onChange) {\n            let value = valueList.last().getValue();\n            let value_tex = valueList.last()\n                .getTeX()\n                .replace(\"\\\\mid\", \"\");\n\n            onChange({\n                value,\n                value_tex,\n            });\n        }\n    }\n\n    handleToggleResponses() {\n        let { showKeyboard } = this.state;\n\n        showKeyboard = !showKeyboard;\n\n        this.setState({ showKeyboard });\n    }\n\n    hasResponses() {\n        let { responses } = this.props;\n\n        return responses && responses.length > 0;\n    }\n\n    render() {\n        let {\n            keyboard,\n            mapKeys,\n            classes,\n            responses,\n            onSubmit,\n        } = this.props;\n\n        let {\n            valueList,\n            showKeyboard,\n            correct,\n        } = this.state;\n\n        let btnResponses = \"\";\n        let responsesComp = \"\";\n\n        if (this.hasResponses()) {\n            btnResponses = (\n                <Fab\n                    onClick={this.handleToggleResponses}\n                    color=\"primary\"\n                    size=\"small\"\n                    className={classes.responseBtn}\n                >\n                    {showKeyboard ? <CloseIcon /> : responses.length}\n                </Fab>\n            );\n\n            let response = Object.assign({}, responses[0]);\n            delete response.id;\n            delete response.tex;\n            let header = Object.keys(response);\n\n            responsesComp = (\n                <Collapse\n                    className={classes.table}\n                    in={showKeyboard}\n                    timeout=\"auto\"\n                    unmountOnExit\n                >\n                    <Divider />\n                    <Table size=\"small\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\">Resposta</TableCell>\n                                {header.map((value, index) => (\n                                    <TableCell\n                                        key={value + index}\n                                        align=\"center\"\n                                    >\n                                        {value}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {responses.map((response) => (\n                                <TableRow key={response.id}>\n                                    <TableCell align=\"center\">\n                                        <MathJax.Node formula={response.tex}/>\n                                    </TableCell>\n                                    {header.map((value, index) => (\n                                        <TableCell\n                                            key={value + index}\n                                            align=\"center\"\n                                        >\n                                            {response[value]}\n                                        </TableCell>\n                                    ))}\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Collapse>\n            );\n        }\n\n        return (\n            <Paper onKeyUp={this.handleKeyUp} className={classes.root}>\n                <MathJax.Provider options={mathJaxConfig}>\n                    <Screen\n                        screenValue={valueList}\n                        onKeyUp={this.handleKeyUp}\n                        onClear={this.handleKeyClear}\n                        onRemove={this.handleKeyRemove}\n                        onSubmit={onSubmit}\n                        correct={correct}\n                    />\n                    {btnResponses}\n                    {responsesComp}\n                    <Grid\n                        container\n                        className={classes.container}\n                        spacing={0}\n                    >\n                        {keyboard.map(row => row.map(btn => (\n                            <Grid key={btn} item xs={Math.ceil(12/row.length)}>\n                                {mapKeys.get(btn)}\n                            </Grid>\n                        )))}\n                    </Grid>\n                </MathJax.Provider>\n            </Paper>\n        );\n    }\n}\n\nexport default withStyles(styles)(Component);\n","import React, { Component as ReactComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport MathJax from \"react-mathjax\";\n\nexport default class Component extends ReactComponent {\n    static propTypes = {\n        text: PropTypes.string.isRequired,\n        onClick: PropTypes.func.isRequired,\n        value: PropTypes.string.isRequired,\n        classes: PropTypes.object.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick() {\n        const { onClick, value } = this.props;\n        onClick(value);\n    }\n\n    render() {\n        const { text, classes } = this.props;\n\n        return (\n            <Button className={classes.button} onClick={this.handleClick}>\n                <MathJax.Node formula={text} />\n            </Button>\n        );\n    }\n}\n","import { withStyles } from \"@material-ui/core/styles\";\nimport Component from \"./Component\";\n\nconst styles = () => ({\n    button: {\n        margin: 0,\n        width: \"100%\",\n        height: \"68px\",\n    },\n    input: {\n        display: \"none\",\n    },\n});\n\nexport default withStyles(styles)(Component);\n","import React from \"react\";\nimport Key from \"../Key\";\n\nexport class MapKeys {\n    constructor() {\n        this.map = new Map();\n    }\n\n    setCallback(callback) {\n        this.callback = callback;\n    }\n\n    get(key) {\n        return this.map.get(key);\n    }\n\n    set(key, val) {\n        return this.map.set(key, val);\n    }\n\n    getComponent(text, value) {\n        return (\n            <Key key={text + value} text={text} value={value} onClick={this.callback} />\n        );\n    }\n\n    setMap() {\n        this.setNumbersButtons();\n        this.set(\"=\", this.getComponent(\"=\", \"=\"));\n        this.set(\",\", this.getComponent(\",\", \",\"));\n        this.set(\"+\", this.getComponent(\"+\", \"+\"));\n        this.set(\"-\", this.getComponent(\"-\", \"-\"));\n        this.set(\"*\", this.getComponent(\"*\", \"*\"));\n        this.set(\"/\", this.getComponent(\"\\\\frac{x}{y}\", \"/\"));\n        this.set(\"(\", this.getComponent(\"(\", \"(\"));\n        this.set(\")\", this.getComponent(\")\", \")\"));\n        this.set(\"^\", this.getComponent(\"x^y\", \"^\"));\n        this.set(\"sqrt\", this.getComponent(\"\\\\sqrt[y]{x}\", \"sqrt\"));\n    }\n\n    setNumbersButtons() {\n        for (let index = 0; index <= 9; index++) {\n            this.set(\n                index.toString(),\n                this.getComponent(index.toString(), index.toString())\n            );\n        }\n    }\n}\n\nexport default new MapKeys();\n","import Value from \"./Value\";\n\nexport default class Dot extends Value {\n    constructor(prevValue) {\n        super(\".\", prevValue);\n    }\n\n    valueTeX() {\n        if (this.cursor) {\n            return \",\\\\mid\";\n        }\n\n        return \",\";\n    }\n}\n","import Value from \"./Value\";\n\nexport default class Operator extends Value {\n    value() {\n        return \" \" + this.operator;\n    }\n\n    getValue() {\n        if (!this.prevValue) {\n            return this.value() + \" \";\n        }\n\n        return this.prevValue.getValue() + this.value() + \" \";\n    }\n\n    getTeX() {\n        if (!this.prevValue) {\n            return this.valueTeX() + \" \";\n        }\n\n        return this.prevValue.getTeX() + this.valueTeX() + \" \";\n    }\n}\n","import Value from \"../Value/Value\";\nimport Fraction from \"../Value/Fraction\";\nimport Dot from \"../Value/Dot\";\nimport Operator from \"../Value/Operator\";\nimport Exponent from \"../Value/Exponent\";\nimport Root from \"../Value/Root\";\n\nexport class MapEvents {\n    constructor() {\n        this.map = new Map();\n    }\n\n    set(key, callback) {\n        this.map.set(key, callback);\n    }\n\n    get(key) {\n        return this.map.get(key);\n    }\n\n    setMap() {\n        this.setNumbersButtons();\n        this.set(\"=\", (value) => (new Operator(\"=\", value)));\n        this.set(\",\", (value) => (new Dot(value)));\n        this.set(\"+\", (value) => (new Operator(\"+\", value)));\n        this.set(\"-\", (value) => (new Operator(\"-\", value)));\n        this.set(\"*\", (value) => (new Operator(\"*\", value)));\n        this.set(\"/\", (value) => (new Fraction(value)));\n        this.set(\"(\", (value) => (new Value(\"(\", value)));\n        this.set(\")\", (value) => (new Value(\")\", value)));\n        this.set(\"^\", (value) => (new Exponent(value)));\n        this.set(\"sqrt\", (value) => (new Root(value)));\n    }\n\n    setNumbersButtons() {\n        for (let index = 0; index <= 9; index++) {\n            this.set(\n                index.toString(),\n                (value) => (new Value(index.toString(), value))\n            );\n        }\n    }\n}\n\nexport default new MapEvents();\n","export const defaultKeyboard = [\n    [\"1\", \"2\", \"3\", \"+\"],\n    [\"4\", \"5\", \"6\", \"-\"],\n    [\"7\", \"8\", \"9\", \"*\"],\n    [\",\", \"0\", \"=\", \"/\"],\n    [\"(\", \")\", \"^\", \"sqrt\"],\n];\n","export default class BaseCommand {\n    /**\n     *\n     * @param {Object} currentValue\n     */\n    constructor(currentValue) {\n        this.currentValue = currentValue;\n    }\n\n    /**\n     * @return {Object}\n     */\n    execute() {\n        throw \"Method not implemented\";\n    }\n\n    /**\n     * @return {boolean}\n     */\n    isEmptyValue() {\n        return this.currentValue.operator === \"\";\n    }\n\n    /**\n     * @return {boolean}\n     */\n    nextIsNull() {\n        return this.currentValue.nextValue === null ||\n            this.currentValue.nextValue === undefined;\n    }\n\n    /**\n     * @return {boolean}\n     */\n    prevIsNull() {\n        return this.currentValue.prevValue === null ||\n            this.currentValue.prevValue === undefined;\n    }\n}\n","import BaseCommand from \"../BaseCommand\";\n\nexport default class AddValue extends BaseCommand {\n\n    /**\n     *\n     * @param {Object} currentValue\n     * @param {Object} newValue\n     */\n    constructor(currentValue, newValue) {\n        super(currentValue);\n        this.newValue = newValue;\n    }\n\n    /**\n     * @return {Object}\n     */\n    execute() {\n        if (this.isEmptyValue()) {\n            this.replaceValue();\n        } else {\n            this.addValue();\n        }\n\n        this.newValue.cursor = true;\n\n        return this.newValue;\n    }\n\n    /**\n     *\n     */\n    replaceValue() {\n        let nextValue = this.currentValue.nextValue;\n        let prevValue = this.currentValue.prevValue;\n\n        if (nextValue) {\n            nextValue.prevValue = this.newValue;\n            this.newValue.nextValue = nextValue;\n        }\n\n        if (prevValue) {\n            prevValue.nextValue = this.newValue;\n            this.newValue.prevValue = prevValue;\n        }\n    }\n\n    /**\n     *\n     */\n    addValue() {\n        this.newValue.setPrevValue(this.currentValue);\n        this.currentValue.setNextValue(this.newValue);\n        this.currentValue.cursor = false;\n    }\n}\n","import Value from \"../../../Value\";\nimport BaseCommand from \"../BaseCommand\";\nimport { NEXT_VALUE, PREV_VALUE } from \"../../../ValueList\";\nimport { DIVIDEND, DIVIDER } from \"../../../Fraction\";\n\nexport default class ChangeValue extends BaseCommand {\n    /**\n     *\n     * @param {Object} currentValue\n     * @param {string} direction\n     */\n    constructor(currentValue, direction) {\n        super(currentValue);\n        this.direction = direction;\n    }\n\n    /**\n     * @returns {Object}\n     */\n    execute() {\n        if (this.direction === NEXT_VALUE) {\n            return this.nextValue();\n        }\n\n        return this.prevValue();\n    }\n\n    /**\n     * @returns {Object}\n     */\n    nextValue() {\n        if (this.nextIsNull()) return null;\n\n        let nextValue = this.currentValue.nextValue;\n\n        if (this.isEmptyValue()) {\n            if (this.currentValue.prevValue) {\n                nextValue.setPrevValue(this.currentValue.prevValue);\n                nextValue.prevValue.nextValue = nextValue;\n            } else {\n                nextValue.prevValue = undefined;\n            }\n        } else {\n            nextValue.prevValue.cursor = false;\n        }\n\n        nextValue.toggleCursor();\n\n        return this.setFraction(nextValue);\n    }\n\n    /**\n     * @returns {Object}\n     */\n    prevValue() {\n        if (this.isEmptyValue() && this.prevIsNull()) return null;\n\n        let prevValue = this.currentValue.prevValue;\n\n        if (this.prevIsNull()) {\n            prevValue = new Value(\"\");\n            prevValue.setNextValue(this.currentValue);\n        }\n\n        if (this.isEmptyValue()) {\n            if (this.currentValue.nextValue) {\n                this.currentValue.nextValue.setPrevValue(prevValue);\n                prevValue.nextValue = this.currentValue.nextValue;\n            } else {\n                prevValue.nextValue = undefined;\n            }\n        } else {\n            prevValue.nextValue.prevValue = prevValue;\n            prevValue.nextValue.cursor = false;\n        }\n\n        prevValue.toggleCursor();\n\n        return this.setFraction(prevValue);\n    }\n\n    setFraction(value) {\n        let className = value.constructor.name;\n\n        if (className !== \"Fraction\") return value;\n        value.unfocus();\n\n        if (this.direction === PREV_VALUE && this.isEmptyValue()) {\n            value.setCursor(DIVIDER);\n            value.divider.focusLast();\n\n            return value;\n        }\n\n        if (this.direction === PREV_VALUE) {\n            let newValue = new Value(\"\");\n            value.cursor = false;\n            value.setNextValue(newValue);\n            newValue.setPrevValue(value);\n            newValue.cursor = true;\n\n            return newValue;\n        }\n\n        value.setCursor(DIVIDEND);\n        value.dividend.focusFirst();\n\n        return value;\n    }\n}\n","import AddValue from \"./Commands/Value/AddValue\";\nimport ChangeValue from \"./Commands/Value/ChangeValue\";\nimport Value from \"../Value\";\n\nexport default class ValueStrategy {\n    /**\n     *\n     * @param {Object} currentValue\n     */\n    constructor(currentValue) {\n        this.currentValue = currentValue;\n    }\n\n    /**\n     *\n     * @param {Object} value\n     *\n     * @returns {Object}\n     */\n    addValue(value) {\n        let addValue = new AddValue(this.currentValue, value);\n        return addValue.execute();\n    }\n\n    /**\n     *\n     * @returns {Object}\n     */\n    remove() {\n        let prevValue = this.currentValue.prevValue;\n        let nextValue = this.currentValue.nextValue;\n\n        if (!prevValue) {\n            prevValue = new Value(\"\");\n        }\n\n        if (prevValue.getContext() !== \"value\") {\n            if (this.currentValue.operator == \"\") {\n                prevValue = prevValue.prevValue;\n\n                if (!prevValue) {\n                    prevValue = new Value(\"\");\n                }\n            } else {\n                prevValue = new Value(\"\", prevValue);\n            }\n        }\n\n        if (nextValue) {\n            prevValue.nextValue = nextValue;\n            nextValue.prevValue = prevValue;\n        } else {\n            prevValue.nextValue = undefined;\n        }\n\n        prevValue.toggleCursor();\n\n        return prevValue;\n    }\n\n    /**\n     *\n     * @returns {any}\n     */\n    changeValue(direction) {\n        let changeValue = new ChangeValue(this.currentValue, direction);\n        return changeValue.execute();\n    }\n\n    /**\n     *  change to next value\n     *\n     * @returns {Object}\n     */\n    changeToNext() {\n        let newValue = new Value(\"\", this.currentValue);\n        newValue.cursor = true;\n\n        this.currentValue.setNextValue(newValue);\n\n        return newValue;\n    }\n\n    /**\n     * change to prev value\n     *\n     * @returns {Object}\n     */\n    changeToPrev() {\n        if (this.currentValue.prevValue) {\n            this.currentValue.prevValue.cursor = true;\n\n            return this.currentValue.prevValue;\n        }\n\n        let newValue = new Value(\"\");\n        newValue.setNextValue(this.currentValue);\n        newValue.cursor = true;\n\n        this.currentValue.setPrevValue(newValue);\n\n        return newValue;\n    }\n}\n","import BaseCommand from \"../BaseCommand\";\nimport { DIVIDEND, DIVIDER } from \"../../../Fraction\";\nimport { NEXT_VALUE } from \"../../../ValueList\";\n\n/**\n * Get the current value\n *\n * @returns {Object}\n */\nconst getCurrentValue = (fraction) => {\n    let valueList = fraction.divider;\n\n    if (fraction.currentCursor === DIVIDEND) {\n        valueList = fraction.dividend;\n    }\n\n    return valueList.value;\n};\n\nexport default class ChangeValue extends BaseCommand {\n    /**\n     *\n     * @param {Object} fraction\n     * @param {string} direction\n     */\n    constructor(fraction, direction) {\n        super(getCurrentValue(fraction));\n        this.fraction = fraction;\n        this.direction = direction;\n    }\n\n    /**\n     *\n     */\n    execute() {\n        if (this.direction === NEXT_VALUE) {\n            return this.nextValue();\n        }\n\n        return this.prevValue();\n    }\n\n    /**\n     * set next value\n     *\n     * @returns {Object}\n     */\n    nextValue() {\n        if (this.isDividend()) {\n            if (this.nextIsNull()) {\n                this.fraction.unfocus();\n                this.fraction.setCursor(DIVIDER);\n            } else {\n                this.fraction.dividend.nextValue();\n            }\n\n            return this.fraction;\n        }\n\n        if (this.nextIsNull()) {\n            this.fraction.unfocus();\n            return null;\n        }\n\n        this.fraction.divider.nextValue();\n\n        return this.fraction;\n    }\n\n    /**\n     * set prev value\n     *\n     * @returns {Object}\n     */\n    prevValue() {\n        if (this.isDividend()) {\n            if (this.prevIsNull() && this.isEmptyValue()) {\n                this.fraction.unfocus();\n                return null;\n            }\n\n            this.fraction.dividend.prevValue();\n            return this.fraction;\n        }\n\n        if (this.prevIsNull()) {\n            if (this.isEmptyValue()) {\n                if (this.nextIsNull()) {\n                    this.fraction.divider = null;\n                } else {\n                    let value = this.fraction.divider.value;\n                    let next = value.nextValue;\n                    next.prevValue = null;\n                    this.fraction.divider.value = next;\n                    this.fraction.divider.focus();\n                    this.fraction.unfocus();\n                }\n\n                this.fraction.setCursor(DIVIDEND);\n            } else {\n                this.fraction.divider.prevValue();\n            }\n        } else {\n            this.fraction.divider.prevValue();\n        }\n\n        return this.fraction;\n    }\n\n    /**\n     * is dividend?\n     *\n     * @returns {boolean}\n     */\n    isDividend() {\n        return this.fraction.currentCursor === DIVIDEND;\n    }\n}\n","import ValueStrategy from \"./ValueStrategy\";\nimport { DIVIDER } from \"../Fraction\";\nimport ChangeValue from \"./Commands/Fraction/ChangeValue\";\nimport { NEXT_VALUE } from \"../ValueList\";\n\nexport default class FractionStrategy extends ValueStrategy {\n    /**\n     *\n     * @param {Object} value\n     */\n    addValue(value) {\n        if (this.currentValue.currentCursor === DIVIDER) {\n            this.currentValue.addDivider(value);\n        } else {\n            this.currentValue.addDividend(value);\n        }\n\n        return this.currentValue;\n    }\n\n    /**\n     *\n     * @returns {Object}\n     */\n    remove() {\n        this.currentValue.remove();\n        return this.currentValue;\n    }\n    /**\n     *\n     * @returns {Object}\n     */\n    changeValue(direction) {\n        let value = this.currentValue.getCurrentValue();\n\n        if (value && value.getContext() !== \"value\") {\n            this.currentValue.changeValue(direction);\n            return this.currentValue;\n        }\n\n        let command = new ChangeValue(this.currentValue, direction);\n        let result = command.execute();\n\n        if (result) return result;\n\n        this.currentValue.unfocus();\n\n        if (direction === NEXT_VALUE) {\n            return this.changeToNext();\n        }\n\n        return this.changeToPrev();\n    }\n}\n","import ValueStrategy from \"./ValueStrategy\";\nimport { NEXT_VALUE } from \"../ValueList\";\nimport Value from \"../Value\";\n\nexport default class ExponentStrategy extends ValueStrategy {\n    /**\n     *\n     * @param {Object} value\n     * @returns {Object}\n     */\n    addValue(value) {\n        this.currentValue.addValue(value);\n        return this.currentValue;\n    }\n\n    /**\n     *\n     * @returns {any}\n     */\n    changeValue(direction) {\n        if (direction == NEXT_VALUE) {\n            return this.nextValue();\n        }\n\n        return this.prevValue();\n    }\n\n    remove() {\n        this.currentValue.remove();\n    }\n\n    nextValue() {\n        let currentValue = this.currentValue.valueList.value;\n        let nextValue = currentValue.nextValue;\n\n        if (nextValue) {\n            this.currentValue.valueList.nextValue();\n            return this.currentValue;\n        }\n\n        if (currentValue.getContext() !== \"value\") {\n            this.currentValue.valueList.nextValue();\n            return this.currentValue;\n        }\n\n        nextValue = new Value(\"\", this.currentValue);\n        this.currentValue.unfocus();\n        this.currentValue.cursor = false;\n        this.currentValue.setNextValue(nextValue);\n        nextValue.cursor = true;\n\n        return nextValue;\n    }\n\n    prevValue() {\n        let currentValue = this.currentValue.valueList.value;\n        let prevValue = currentValue.prevValue;\n\n        if (prevValue) {\n            this.currentValue.valueList.prevValue();\n            return this.currentValue;\n        }\n\n        if (currentValue.getContext() !== \"value\") {\n            this.currentValue.valueList.prevValue();\n            return this.currentValue;\n        }\n\n        if (currentValue.operator === \"\") {\n            currentValue.nextValue.prevValue = undefined;\n            this.currentValue.valueList.value = currentValue.nextValue;\n            this.currentValue.unfocus();\n            this.currentValue.cursor = false;\n\n            return this.getPrev();\n        }\n\n        let newValue = new Value(\"\");\n        newValue.setNextValue(currentValue);\n        currentValue.setPrevValue(newValue);\n\n        this.currentValue.valueList.prevValue();\n        return this.currentValue;\n    }\n\n    getPrev() {\n        let prevValue = this.currentValue.prevValue;\n\n        if (!prevValue) {\n            prevValue = new Value(\"\");\n            prevValue.setNextValue(this.currentValue);\n        }\n\n        prevValue.cursor = true;\n\n        return prevValue;\n    }\n}\n","import BaseCommand from \"../BaseCommand\";\nimport { INDEX, RADICAND } from \"../../../Root\";\nimport Value from \"../../../Value\";\nimport ValueList, { NEXT_VALUE } from \"../../../ValueList\";\n\nexport default class ChangeValue extends BaseCommand {\n    /**\n     *\n     * @param {Object} root\n     * @param {string} direction\n     */\n    constructor(root, direction) {\n        super(root.getCurrentValue());\n        this.root = root;\n        this.direction = direction;\n    }\n\n    /**\n     *  Execute the command to change position value\n     *\n     * @returns {Object}\n     */\n    execute() {\n        if (this.direction === NEXT_VALUE) {\n            return this.nextValue();\n        }\n\n        return this.prevValue();\n    }\n\n    /**\n     * set next value\n     *\n     * @returns {Object}\n     */\n    nextValue() {\n        if (this.nextIsNull()) {\n            if (this.root.isRadicand()) return null;\n\n            this.root.unfocus();\n            this.root.focus(RADICAND);\n\n            if (!this.root.radicand) {\n                this.root.radicand = new ValueList(new Value(\"\"));\n                this.root.radicand.boot();\n            }\n        } else {\n            this.root.toNextValue();\n        }\n\n        return this.root;\n    }\n\n    /**\n     * set prev value\n     *\n     * @returns {Object}\n     */\n    prevValue() {\n        if (this.prevIsNull() && this.isEmptyValue()) {\n            if (this.nextIsNull()) {\n                this.changeToNullValue();\n            } else {\n                let nextValue = this.currentValue.nextValue;\n                nextValue.prevValue = null;\n                this.setCurrentValue(nextValue);\n            }\n\n            if (this.root.isIndex()) return null;\n\n            this.root.unfocus();\n            this.root.focus(INDEX);\n\n            if (!this.root.index) {\n                this.root.index = new ValueList(new Value(\"\"));\n                this.root.index.boot();\n            }\n\n            return this.root;\n        }\n\n        if (this.prevIsNull()) {\n            let value = new Value(\"\");\n            value.setNextValue(this.currentValue);\n            this.currentValue.setPrevValue(value);\n        }\n\n        this.root.toPrevValue();\n        return this.root;\n    }\n\n    setCurrentValue(value) {\n        if (this.root.isIndex()) {\n            this.root.index.value = value;\n        } else {\n            this.root.radicand.value = value;\n        }\n    }\n\n    changeToNullValue() {\n        if (this.root.isIndex()) {\n            this.root.index = null;\n        } else {\n            this.root.radicand = null;\n        }\n    }\n}\n","import ValueStrategy from \"./ValueStrategy\";\nimport ChangeValue from \"./Commands/Root/ChangeValue\";\nimport { NEXT_VALUE } from \"../ValueList\";\n\nexport default class RootStrategy extends ValueStrategy {\n    /**\n     *\n     * @param {Object} value\n     * @returns {Object}\n     */\n    addValue(value) {\n        if (this.currentValue.isRadicand()) {\n            this.currentValue.addRadicand(value);\n        } else {\n            this.currentValue.addIndex(value);\n        }\n\n        return this.currentValue;\n    }\n\n    /**\n     *\n     * @returns {Object}\n     */\n    remove() {\n        this.currentValue.remove();\n        return this.currentValue;\n    }\n\n    /**\n     *\n     * @returns {Object}\n     */\n    changeValue(direction) {\n        let value = this.currentValue.getCurrentValue();\n\n        if (value && value.getContext() !== \"value\") {\n            this.currentValue.changeValue(direction);\n            return this.currentValue;\n        }\n\n        let command = new ChangeValue(this.currentValue, direction);\n        let result = command.execute();\n\n        if (result) return result;\n\n        this.currentValue.unfocus();\n\n        if (direction === NEXT_VALUE) {\n            return this.changeToNext();\n        }\n\n        return this.changeToPrev();\n    }\n}\n","import FractionStrategy from \"../Value/Strategies/FractionStrategy\";\nimport ValueStrategy from \"../Value/Strategies/ValueStrategy\";\nimport ExponentStrategy from \"../Value/Strategies/ExponentStrategy\";\nimport RootStrategy from \"../Value/Strategies/RootStrategy\";\n\nexport default {\n    \"fraction\": FractionStrategy,\n    \"value\": ValueStrategy,\n    \"exponent\": ExponentStrategy,\n    \"root\": RootStrategy,\n};\n","import React, { Component as ReactComponent } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport defaultMapKeys from \"./MapKeys\";\nimport defaultMapEvents from \"./MapEvents\";\nimport { defaultKeyboard } from \"./keyboards\";\nimport contextConfig from \"./contextConfig\";\n\nexport default () => {\n    let mapKeys = defaultMapKeys;\n    let keyboard = defaultKeyboard;\n    let mapEvents = defaultMapEvents;\n\n    return (WrappedComponent) => class WithKeyboard extends ReactComponent {\n        static propTypes = {\n            keyboard: PropTypes.array,\n            mapKeys: PropTypes.object,\n            mapEvents: PropTypes.object,\n            contextConfig: PropTypes.object,\n        };\n\n        render() {\n            let props = {\n                keyboard,\n                mapKeys,\n                mapEvents,\n                contextConfig,\n                ...this.props\n            };\n\n            return (\n                <WrappedComponent {...props} />\n            );\n        }\n    };\n};\n","import Component from \"./Component\";\nimport withKeyboard from \"./withKeyboard\";\n\nexport default withKeyboard()(Component);\n"],"names":["Math","props","state","handleOnRender","bind","timeCursor","value","setState","nextProps","load","setCursor","mathList","document","getElementsByClassName","el","mjxEls","mjx","innerHTML","style","fontSize","setInterval","visibility","parentElement","marginLeft","display","currentValue","getStyle","React","Component","propTypes","PropTypes","string","styles","orange","Screen","screenValue","last","getTeX","correct","classes","status","color","getValue","replace","onKeyUp","onClear","onRemove","onSubmit","submit","send","getResponse","sendIcon","root","actionBtn","icon","screen","getCorrectBorder","getCorrectText","renderValue","object","isRequired","func","bool","withStyles","appConfig","init","config","freeze","ValueContext","strategy","addValue","remove","direction","changeValue","context","getContext","NEXT_VALUE","PREV_VALUE","ValueList","boot","cursor","toggleCursor","unfocus","focus","first","nextValue","prevValue","contextFactory","LEFT","RIGHT","Value","operator","setPrevValue","valueTeX","DIVIDER","DIVIDEND","Fraction","divider","dividend","currentCursor","focusFirst","focusLast","setParentheses","getDividendValue","getDividerValue","getDividendTeX","getDividerTeX","Exponent","valueList","RADICAND","INDEX","Root","index","radicand","isRadicand","isIndex","isSqrt","i","charAt","parser","mapEvents","length","char","get","red","green","mathJaxConfig","undefined","clickBuntton","handleKeyUp","handleKeyClear","handleKeyRemove","handleToggleResponses","mapKeys","setCallback","setMap","contextConfig","current","btn","handleOnChange","keyCode","onChange","value_tex","showKeyboard","responses","keyboard","btnResponses","responsesComp","hasResponses","responseBtn","response","Object","assign","id","tex","header","keys","table","map","container","row","ceil","ReactComponet","array","handleClick","onClick","text","button","ReactComponent","MapKeys","Map","callback","key","val","set","setNumbersButtons","getComponent","toString","Dot","Operator","MapEvents","defaultKeyboard","BaseCommand","AddValue","newValue","isEmptyValue","replaceValue","setNextValue","ChangeValue","nextIsNull","setFraction","prevIsNull","className","constructor","name","ValueStrategy","execute","getCurrentValue","fraction","isDividend","next","FractionStrategy","addDivider","addDividend","command","result","changeToNext","changeToPrev","ExponentStrategy","getPrev","toNextValue","changeToNullValue","setCurrentValue","toPrevValue","RootStrategy","addRadicand","addIndex","defaultMapKeys","defaultMapEvents","WrappedComponent","withKeyboard"],"mappings":"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"}